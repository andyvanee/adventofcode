#!/usr/bin/env python3
import sys
from shortest_path import ShortestPath

path = ShortestPath(sys.stdin)
print("The shortest path is:", path.distance)
print(' -> '.join(path.route))
